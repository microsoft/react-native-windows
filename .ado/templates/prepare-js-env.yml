parameters:
  - name: agentEnvironment
    type: string
    default: ManagedImage
    values:
        - ManagedImage
        - HostedImage

steps:
  - ${{ if eq(parameters.agentEnvironment, 'HostedImage') }}:
    - task: NodeTool@0
      displayName: Set Node Version
      inputs:
        versionSpec: '16.x'

  - template: yarn-install.yml
    parameters:
      agentEnvironment: ${{ parameters.agentEnvironment }}

  - script: yarn build
    displayName: yarn build
