<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Upgrading with Hermes Support and Automated Tests · React Native for Windows</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;head&gt;"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Upgrading with Hermes Support and Automated Tests · React Native for Windows"/><meta property="og:type" content="website"/><meta property="og:url" content="https://microsoft.github.io/react-native-windows/blog/2019/12/3/m3updates"/><meta property="og:description" content="&lt;head&gt;"/><meta property="og:image" content="https://microsoft.github.io/react-native-windows/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://microsoft.github.io/react-native-windows/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/react-native-windows/img/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/solarized-dark.min.css"/><link rel="stylesheet" href="/react-native-windows/css/code-block-buttons.css"/><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/focus-visible@5.0.2/dist/focus-visible.min.js"></script><script type="text/javascript" src="https://platform.twitter.com/widgets.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/react-native-windows/js/code-block-buttons.js"></script><script type="text/javascript" src="/react-native-windows/js/nav-buttons.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/react-native-windows/js/scrollSpy.js"></script><link rel="stylesheet" href="/react-native-windows/css/prism.css"/><link rel="stylesheet" href="/react-native-windows/css/main.css"/><script src="/react-native-windows/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/react-native-windows/"><img class="logo" src="/react-native-windows/img/header_logo.svg" alt="React Native for Windows"/><h2 class="headerTitleWithLogo">React Native for Windows</h2></a><a href="/react-native-windows/versions"><h3>0.80</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="/react-native-windows/docs/getting-started" target="_self">Docs</a></li><li class=""><a href="/react-native-windows/docs/flyout-component" target="_self">APIs</a></li><li class=""><a href="https://devblogs.microsoft.com/react-native/" target="_self">Blog</a></li><li class=""><a href="/react-native-windows/resources" target="_self">Resources</a></li><li class=""><a href="https://github.com/microsoft/react-native-windows-samples/tree/main/samples" target="_self">Samples</a></li><li class=""><a href="/react-native-windows/support" target="_self">Support</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Recent Posts</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Recent Posts</h3><ul class=""><li class="navListItem"><a class="navItem" href="/react-native-windows/blog/2022/07/29/coreapp">Streamlining app creation with React Native for Windows CoreApp</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/blog/2022/02/11/settings">React Native for Windows is helping Settings improve more quickly</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/blog/2022/02/11/rnwinrt">Calling Windows APIs from React Native just got easier</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/blog/2021/08/05/win32component">Use Win32 features from a React Native for Windows application</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/blog/2021/06/30/notifications">Add Toast notifications to your React Native for Windows application</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer postContainer blogContainer"><div class="wrapper"><div class="lonePost"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle"><a href="/react-native-windows/blog/2019/12/3/m3updates">Upgrading with Hermes Support and Automated Tests</a></h1><p class="post-meta">December 3, 2019</p><div class="authorBlock"><p class="post-authorName"><a href="http://twitter.com/reactnativemsft" target="_blank" rel="noreferrer noopener">React Native at Microsoft</a></p></div></header><div><span><p><head>
<meta http-equiv="Refresh" content="0; URL=https://devblogs.microsoft.com/react-native/2019-12-03-m3updates/" />
</head></p>
<p>We wrapped up <a href="https://github.com/microsoft/react-native-windows/milestone/17">Milestone 3</a> a month ago which included <strong>upgrade to support React Native version 0.60, Native extensions developer story, integration with the new high performance JS engine- Hermes, E2E test infrastructure and a host of added API support</strong>. Some detailed highlights from the past few months are shared below.</p>
<!--truncate-->
<p>You can get some of the latest on <em>what's new with React Native for Windows</em> from the <a href="https://myignite.techcommunity.microsoft.com/sessions/81326">breakout session</a> and <a href="https://myignite.techcommunity.microsoft.com/sessions/89307">Channel9 interview</a> from IGNITE 2019.</p>
<h2><a class="anchor" aria-hidden="true" id="upgrade-to-version-060"></a><a href="#upgrade-to-version-060" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Upgrade to version 0.60</h2>
<p>Keeping up with React Native versioning, we completed the upgrade for react-native-windows vNext from 0.59 to 0.60. You can now develop for RN 0.60 and target Windows.</p>
<pre><code class="hljs">react-native init &lt;project name&gt; --version <span class="hljs-number">0.60</span><span class="hljs-number">.6</span>
</code></pre>
<p>See <a href="https://microsoft.github.io/react-native-windows/docs/getting-started">Getting Started Guide for vNext</a> for more details.</p>
<h2><a class="anchor" aria-hidden="true" id="support-for-hermes"></a><a href="#support-for-hermes" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Support for Hermes</h2>
<p><a href="https://github.com/facebook/hermes">Hermes</a> is a new JavaScript engine introduced by Facebook optimized for fast startup of React Native apps. We are happy to share that React Native for Windows vnext also supports Hermes as a build option with v0.60 and initial tests with a handful of Microsoft apps have shown high performance gains in both memory and startup time (boot latency reduced ~100-400ms) using the same.</p>
<p>You can turn on Hermes for your apps by setting the msbuild property <code>USE_HERMES</code> in <code>vnext\PropertySheets\React.Cpp.Props</code> to <code>true</code>.</p>
<h2><a class="anchor" aria-hidden="true" id="e2e-automated-tests-and-infrastructure"></a><a href="#e2e-automated-tests-and-infrastructure" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>E2E automated tests and infrastructure</h2>
<p>We bootstrapped E2E test infrastructure using Appium (WinAppDriver) and we now have several automated E2E tests running as part of the code-commit pipeline for more reliability. Go <a href="https://microsoft.github.io/react-native-windows/docs/e2e-test">here</a> to learn more.</p>
<h2><a class="anchor" aria-hidden="true" id="native-extensions-developer-story"></a><a href="#native-extensions-developer-story" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Native extensions developer story</h2>
<p>You can now begin authoring and consuming standalone Native Modules and custom View Managers through React Native for Windows vNext. We have enabled the infrastructure to extend and add support to external packages and community modules similar to what you can do today for accessing iOS/Android APIs. Check out our docs on these topics :</p>
<ul>
<li><a href="https://microsoft.github.io/react-native-windows/docs/native-modules">Native modules</a></li>
<li><a href="https://microsoft.github.io/react-native-windows/docs/view-managers">Native UI components</a></li>
<li><a href="https://microsoft.github.io/react-native-windows/docs/native-modules-advanced">Native modules advanced</a></li>
<li><a href="https://microsoft.github.io/react-native-windows/docs/native-modules-setup">Authoring standalone native modules</a></li>
</ul>
<p>While working on this, we have identified several performance and developer experience improvements to instance creation and management. These updates will start to trickle in the upcoming <a href="https://github.com/microsoft/react-native-windows/milestone/18">Milestone 4</a>. We are simultaneously sharing these proposals with Facebook to ensure react-native for iOS, Android and Mac can also benefit from these improvements.</p>
<p>With the infrastructure now in place, we have begun bootstrapping a handful of community module repos with support for React Native for Windows vNext. As we make progress, we intend to formalize the developer experience, tooling, tests more and publish guidance around the same. You can keep track of our backlog through the <a href="https://github.com/microsoft/react-native-windows/projects/23">Community Modules Project</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="apis-and-new-feature-updates"></a><a href="#apis-and-new-feature-updates" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>APIs and new feature updates</h2>
<p>Core components and modules are almost fully supported, see updates to <a href="https://microsoft.github.io/react-native-windows/docs/parity-status">Parity Status</a> for details. Completed APIs includes <code>Switch</code>, <code>Text</code>, <code>FlatList</code>, <code>TextInput</code> (excluding few props that need underlying platform work) components as well as <code>Keyboard</code>, <code>Alert</code> modules and more. We are making steady progress on others like <code>Accessibility</code>, <code>Image</code>, <code>Animations</code> (useNativeDriver), <code>View</code> border properties etc.,</p>
<p>In addition to supporting the <a href="https://facebook.github.io/react-native/blog/2019/07/03/version-60#focus-on-accessibility">newly added APIs for Accessibility in React Native v0.60</a>, we have also introduced a couple of <strong>new APIs for better accessibility in lists</strong>, taking some of the best practices from Windows and giving back to the React Native community.  You can read more about the proposal <a href="https://github.com/react-native-community/discussions-and-proposals/pull/146">here</a>, this has been implemented in react-native-windows.</p>
<p>You can now access signature Windows themes and Fluent Design visuals like Acrylic and Reveal from React Native for Windows – Read <a href="https://microsoft.github.io/react-native-windows/docs/windowsbrush-and-theme">Windows Brushes and Themes</a> for more details. In addition, we have improved several built in keyboard focus behaviors and added a few APIs in this area as well.</p>
<h2><a class="anchor" aria-hidden="true" id="coming-up-next"></a><a href="#coming-up-next" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Coming up next</h2>
<p>You can take a peek at the <a href="https://github.com/microsoft/react-native-windows/milestones">upcoming Milestones</a> with a backlog lining up through Summer 2020. The immediate next Milestone we are working on is due by January 2020 with these high priority objectives:</p>
<ul>
<li>Upgrade to RN v 0.61</li>
<li>React Native for Windows vnext becomes mainline and fully replaces React Native for Windows current as the default. Work left to accomplish this includes 90% complete API parity on lean-core APIs (pending updates needed in underlying native platform), completion of Native extensions host instantiation APIs and developer experiences and other known breaking changes.</li>
<li>Add support to key community modules like Camera, Video, Lottie and few others that have been requested by customers.</li>
<li>Setup infrastructure for consuming WinUI 2.2 nuget package for wrapping high value components/modules and setup for future WinUI dependencies</li>
<li>Begin support for dual screen scenarios</li>
</ul>
</span></div></div><div class="blogSocialSection"></div></div><div class="blog-recent"><a class="button" href="/react-native-windows/blog/">Recent Posts</a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#upgrade-to-version-060">Upgrade to version 0.60</a></li><li><a href="#support-for-hermes">Support for Hermes</a></li><li><a href="#e2e-automated-tests-and-infrastructure">E2E automated tests and infrastructure</a></li><li><a href="#native-extensions-developer-story">Native extensions developer story</a></li><li><a href="#apis-and-new-feature-updates">APIs and new feature updates</a></li><li><a href="#coming-up-next">Coming up next</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><div><h5>React Native Docs</h5><a href="https://reactnative.dev/docs/getting-started">Getting Started</a><a href="https://reactnative.dev/docs/tutorial">Tutorial</a><a href="https://reactnative.dev/docs/components-and-apis">Components and APIs</a><a href="https://reactnative.dev/docs/more-resources">More Resources</a></div><div><h5>React Native for Windows Docs</h5><div style="color:white;font-weight:500;font-size:16px"><a href="/react-native-windows/docs/getting-started">Get Started with Windows</a></div><a href="/react-native-windows/docs/parity-status">React Native Windows Components and APIs</a><a href="/react-native-windows/docs/native-modules">Native Modules</a><a href="/react-native-windows/docs/view-managers">Native UI Components</a></div><div><h5>Connect With Us On</h5><a href="https://devblogs.microsoft.com/react-native/">Blog</a><a href="https://twitter.com/ReactNativeMSFT" target="_blank">Twitter</a><a href="https://github.com/microsoft/react-native-windows" target="_blank">GitHub</a><a href="https://github.com/microsoft/react-native-windows-samples/tree/main/samples" target="_blank">Samples</a></div></section></footer></div></body></html>