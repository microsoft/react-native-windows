<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Native Platform: Native Components (Paper) · React Native for Windows</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="![Architecture](https://img.shields.io/badge/architecture-old_only-yellow)"/><meta name="docsearch:version" content="0.79"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Native Platform: Native Components (Paper) · React Native for Windows"/><meta property="og:type" content="website"/><meta property="og:url" content="https://microsoft.github.io/react-native-windows/"/><meta property="og:description" content="![Architecture](https://img.shields.io/badge/architecture-old_only-yellow)"/><meta property="og:image" content="https://microsoft.github.io/react-native-windows/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://microsoft.github.io/react-native-windows/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/react-native-windows/img/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/solarized-dark.min.css"/><link rel="stylesheet" href="/react-native-windows/css/code-block-buttons.css"/><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/focus-visible@5.0.2/dist/focus-visible.min.js"></script><script type="text/javascript" src="https://platform.twitter.com/widgets.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/react-native-windows/js/code-block-buttons.js"></script><script type="text/javascript" src="/react-native-windows/js/nav-buttons.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/react-native-windows/js/scrollSpy.js"></script><link rel="stylesheet" href="/react-native-windows/css/prism.css"/><link rel="stylesheet" href="/react-native-windows/css/main.css"/><script src="/react-native-windows/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/react-native-windows/"><img class="logo" src="/react-native-windows/img/header_logo.svg" alt="React Native for Windows"/><h2 class="headerTitleWithLogo">React Native for Windows</h2></a><a href="/react-native-windows/versions"><h3>0.79</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/react-native-windows/docs/0.79/getting-started" target="_self">Docs</a></li><li class=""><a href="/react-native-windows/docs/0.79/flyout-component" target="_self">APIs</a></li><li class=""><a href="https://devblogs.microsoft.com/react-native/" target="_self">Blog</a></li><li class=""><a href="/react-native-windows/resources" target="_self">Resources</a></li><li class=""><a href="https://github.com/microsoft/react-native-windows-samples/tree/main/samples" target="_self">Samples</a></li><li class=""><a href="/react-native-windows/support" target="_self">Support</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Native Development (Windows)</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">The Basics (Windows)<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/getting-started">Get Started with Windows</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/rnw-dependencies">System Requirements</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/react-native-windows-cli">React Native Windows CLI</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/parity-status">React Native Windows Components and APIs</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/config">React Native Config Schema</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/windowsbrush-and-theme">Using PlatformColor and Responding to Themes</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/releases">Release Strategy</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/platform">Platform Detection</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/upgrade-app">Upgrading App to Latest Version of React Native Windows</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/setup-ci">Setup Continuous Integration Pipeline for an RNW App</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/app-publishing">Publishing a React Native Windows App to the Microsoft Store</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/supported-community-modules">Supported Community Modules</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">CLI Commands (Windows)<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/autolink-windows-cli">react-native autolink-windows</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/codegen-windows-cli">react-native codegen-windows</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/init-windows-cli">react-native init-windows</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/run-windows-cli">react-native run-windows</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Native Development (Windows)<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/native-platform">Overview</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/native-platform-getting-started">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/native-platform-modules">Native Modules</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/native-platform-components">Native Components (Fabric)</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/react-native-windows/docs/0.79/native-platform-components-paper">Native Components (Paper)</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/native-platform-using">Using Native Libraries</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Advanced Topics (Windows)<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/win10-vm">Developing Windows apps on a non-Windows PC</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/hermes">Hermes on Windows + macOS</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/NuGet">Using Microsoft.ReactNative NuGet packages</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">The Basics (MacOS)<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/rnm-getting-started">Get Started with macOS</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/rnm-dependencies">System Requirements</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Troubleshooting<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/debugging-javascript">JavaScript Debugging</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/metro-config-out-tree-platforms">Metro config for out of tree platforms</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Legacy Docs<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Native Modules (Windows)</h4><ul><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/native-modules">Native Modules</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/view-managers">Native UI Components</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/native-modules-setup">Native Module Setup</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/native-modules-vs-turbo-modules">Native Modules vs Turbo Modules</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/native-modules-using">Using Community Native Modules</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/native-modules-autolinking">Autolinking Native Modules</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/native-modules-advanced">Native Modules (Advanced)</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/native-modules-troubleshooting">Troubleshooting Native Modules</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Native Development (Windows)</h4><ul><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/native-code">Working with native code on Windows</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/native-code-language-choice">Choosing C++ or C# for native code</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/native-modules-marshalling-data">Marshaling Data</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/native-modules-async">Using Asynchronous Windows APIs</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/native-modules-jsvalue">Using JSValue</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/native-modules-csharp-codegen">Compile time code generation for C#</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/customizing-SDK-versions">Customizing SDK versions</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/0.79/managing-cpp-deps">Managing C++ dependencies</a></li></ul></div></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/microsoft/react-native-windows-samples/blob/main/docs/native-platform-components-paper.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Native Platform: Native Components (Paper)</h1></header><article><div><span><p><img src="https://img.shields.io/badge/architecture-old_only-yellow" alt="Architecture"></p>
<p>This guide covers exposing native Windows UI to React Native by implementing a <em>Native Component</em> for the Windows platform. For a higher-level overview of native development on Windows, see <a href="/react-native-windows/docs/0.79/native-platform">Native Platform: Overview</a> before reading this guide.</p>
<blockquote>
<p><strong>Note:</strong> See the <a href="https://reactnative.dev/docs/fabric-native-components-introduction">reactnative.dev Native Components guide</a> for steps for implementing new Native Components for both the Android and iOS platforms.</p>
</blockquote>
<blockquote>
<p><strong>Architecture Note:</strong> This guide shows how to create a <em>Paper Native Component</em> to support React Native's Old Architecture. It will <em>not</em> work with New Architecture apps. To support React Native for Windows apps targeting the New Architecture, see <a href="/react-native-windows/docs/0.79/native-platform-components">Native Platform: Native Components (Fabric)</a>. For more information on React Native architectures in React Native for Windows, see <a href="/react-native-windows/docs/0.79/new-architecture">New vs. Old Architecture</a>.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="high-level-overview"></a><a href="#high-level-overview" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>High-Level Overview</h2>
<p>In order to implement Windows support for a Native Component, you'll need to:</p>
<ol>
<li>Define the API surface for your Native Component in a TypeScript spec files</li>
<li>Use React Native for Windows' Native Library Codegen to take the TypeScript spec files and create the C++ headers for the Windows code</li>
<li>Write the Windows C++ code to implement the <em>View Manager</em></li>
<li>Use the Native Component in your JavaScript</li>
</ol>
<h2><a class="anchor" aria-hidden="true" id="step-by-step-guide"></a><a href="#step-by-step-guide" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Step by Step Guide</h2>
<h3><a class="anchor" aria-hidden="true" id="0-setup"></a><a href="#0-setup" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>0. Setup</h3>
<p>You'll need a React Native library project initialized with Windows support.</p>
<blockquote>
<p><strong>Note:</strong> The rest of this guide assumes you've followed the <a href="/react-native-windows/docs/0.79/native-platform-getting-started">Native Platform: Getting Started</a> guide to set up a new library project named <code>testlib</code>.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="1-define-the-api-surface-in-typescript"></a><a href="#1-define-the-api-surface-in-typescript" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. Define the API surface in TypeScript</h3>
<p>The default template for a new library does not contain an example of a Native Component, so we'll need to make one. For this guide, we're going to implement a component that uses native UI code to force its child component to render within the bounds of a circle, masking out the corners. This <code>CircleMask</code> could be used to say, render a user's square account or profile image as a circle.</p>
<p>First, we need to create the component's interface in a new TypeScript spec file <code>src\CircleMaskNativeComponent.ts</code>:</p>
<pre><code class="hljs css language-tsx">import codegenNativeComponent <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native/Libraries/Utilities/codegenNativeComponent'</span>;
import<span class="hljs-built_in"> type </span>{ ViewProps } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>;

<span class="hljs-builtin-name">export</span><span class="hljs-built_in"> interface </span>CircleMaskProps extends ViewProps {}

<span class="hljs-builtin-name">export</span><span class="hljs-built_in"> default </span>codegenNativeComponent&lt;CircleMaskProps&gt;(<span class="hljs-string">'CircleMask'</span>);
</code></pre>
<p>This spec file declares that React Native expects every platform to implement a Native Component named <code>CircleMask</code> which supports the properties of <code>CircleMaskProps</code>.</p>
<blockquote>
<p><strong>Note:</strong> Every Native Component spec file must be named in the format <code>&lt;componentName&gt; + NativeComponent.ts</code> in order to be correctly identified as a spec file and not just a regular TypeScript file in your library.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="2-use-react-native-for-windows-native-library-codegen"></a><a href="#2-use-react-native-for-windows-native-library-codegen" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. Use React Native for Windows' Native Library Codegen</h3>
<p>When making a Fabric Native Component, the React Native for Windows' Native Library Codegen is used to generate a bunch of C++ code to help you implement the Native Component. Unfortunately this generated code does not help with Paper Native Component implementations. See <a href="/react-native-windows/docs/0.79/native-platform-components#2-use-react-native-for-windows-native-library-codegen">Native Platform: Native Components (Fabric)</a> for more details.</p>
<h3><a class="anchor" aria-hidden="true" id="3-implement-the-windows-c-code"></a><a href="#3-implement-the-windows-c-code" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. Implement the Windows C++ code</h3>
<p>Now it's time to implement <code>CircleMaskViewManager</code> in Windows code. React Native for Windows Paper View Managers are implemented in C++ and render UI using the <code>Windows::UI::Xaml</code> APIs, also known as <a href="https://learn.microsoft.com/en-us/windows/uwp/xaml-platform/xaml-overview">UWP XAML</a>.</p>
<h4><a class="anchor" aria-hidden="true" id="31-implementing-the-paper-view-manager"></a><a href="#31-implementing-the-paper-view-manager" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3.1 Implementing the Paper View Manager</h4>
<p>To create our new Paper View Manager we're going to need to create two new files (for our example, <code>CircleMask.h</code> and <code>CircleMask.cpp</code> in the <code>windows\testlib</code> folder):</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-125-tab-126" class="nav-link active" data-group="group_125" data-tab="tab-group-125-content-126">CircleMask.h</div><div id="tab-group-125-tab-127" class="nav-link" data-group="group_125" data-tab="tab-group-125-content-127">CircleMask.cpp</div></div><div class="tab-content"><div id="tab-group-125-content-126" class="tab-pane active" data-group="group_125" tabindex="-1"><div><span><pre><code class="hljs css language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">pragma</span> <span class="token expression">once</span></span><br /><br /><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"pch.h"</span></span><br /><br /><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">RNW_NEW_ARCH</span></span><br /><br /><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;winrt/Windows.UI.Xaml.Controls.h></span></span><br /><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;winrt/Windows.UI.Xaml.Data.h></span></span><br /><br /><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><br /><br /><span class="token keyword">namespace</span> winrt<span class="token double-colon punctuation">::</span>testlib<span class="token double-colon punctuation">::</span>implementation <span class="token punctuation">{</span><br /><br /><span class="token keyword">void</span> <span class="token function">RegisterCircleMaskNativeComponent</span><span class="token punctuation">(</span><br />    winrt<span class="token double-colon punctuation">::</span>Microsoft<span class="token double-colon punctuation">::</span>ReactNative<span class="token double-colon punctuation">::</span>IReactPackageBuilder <span class="token keyword">const</span> <span class="token operator">&amp;</span>packageBuilder<span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">;</span><br /><br /><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">RNW_NEW_ARCH</span></span><br /><br /><span class="token keyword">struct</span> <span class="token class-name">CircleMaskViewManager</span> <span class="token operator">:</span> <span class="token base-clause">winrt<span class="token double-colon punctuation">::</span><span class="token class-name">implements</span><span class="token operator">&lt;</span><br />                                   <span class="token class-name">CircleMaskViewManager</span><span class="token punctuation">,</span><br />                                   winrt<span class="token double-colon punctuation">::</span>Microsoft<span class="token double-colon punctuation">::</span>ReactNative<span class="token double-colon punctuation">::</span><span class="token class-name">IViewManager</span><span class="token punctuation">,</span><br />                                   winrt<span class="token double-colon punctuation">::</span>Microsoft<span class="token double-colon punctuation">::</span>ReactNative<span class="token double-colon punctuation">::</span><span class="token class-name">IViewManagerWithChildren</span><span class="token operator">></span></span> <span class="token punctuation">{</span><br /> <span class="token keyword">public</span><span class="token operator">:</span><br />  <span class="token function">CircleMaskViewManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><br /><br />  <span class="token comment">// IViewManager</span><br />  winrt<span class="token double-colon punctuation">::</span>hstring <span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">;</span><br /><br />  winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span>FrameworkElement <span class="token function">CreateView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">;</span><br /><br />  <span class="token comment">// IViewManagerWithChildren</span><br /><br />  <span class="token keyword">void</span> <span class="token function">AddView</span><span class="token punctuation">(</span><br />      winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span>FrameworkElement <span class="token keyword">const</span> <span class="token operator">&amp;</span>parent<span class="token punctuation">,</span><br />      winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span>UIElement <span class="token keyword">const</span> <span class="token operator">&amp;</span>child<span class="token punctuation">,</span><br />      <span class="token keyword">int64_t</span> <span class="token comment">/*index*/</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">;</span><br /><br />  <span class="token keyword">void</span> <span class="token function">RemoveAllChildren</span><span class="token punctuation">(</span>winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span>FrameworkElement <span class="token keyword">const</span> <span class="token operator">&amp;</span>parent<span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">;</span><br /><br />  <span class="token keyword">void</span> <span class="token function">RemoveChildAt</span><span class="token punctuation">(</span>winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span>FrameworkElement <span class="token keyword">const</span> <span class="token operator">&amp;</span>parent<span class="token punctuation">,</span> <span class="token keyword">int64_t</span> <span class="token comment">/*index*/</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">;</span><br /><br />  <span class="token keyword">void</span> <span class="token function">ReplaceChild</span><span class="token punctuation">(</span><br />      winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span>FrameworkElement <span class="token keyword">const</span> <span class="token operator">&amp;</span>parent<span class="token punctuation">,</span><br />      winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span>UIElement <span class="token keyword">const</span> <span class="token operator">&amp;</span> <span class="token comment">/*oldChild*/</span><span class="token punctuation">,</span><br />      winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span>UIElement <span class="token keyword">const</span> <span class="token operator">&amp;</span>newChild<span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">;</span><br /><span class="token punctuation">}</span><span class="token punctuation">;</span><br /><br /><span class="token keyword">struct</span> <span class="token class-name">HeightToCornerRadiusConverter</span><br />    <span class="token operator">:</span> <span class="token base-clause">winrt<span class="token double-colon punctuation">::</span><span class="token class-name">implements</span><span class="token operator">&lt;</span><span class="token class-name">HeightToCornerRadiusConverter</span><span class="token punctuation">,</span> winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span>Data<span class="token double-colon punctuation">::</span><span class="token class-name">IValueConverter</span><span class="token operator">></span></span> <span class="token punctuation">{</span><br /> <span class="token keyword">public</span><span class="token operator">:</span><br />  <span class="token function">HeightToCornerRadiusConverter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><br /><br />  winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>Foundation<span class="token double-colon punctuation">::</span>IInspectable <span class="token function">Convert</span><span class="token punctuation">(</span><br />      winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>Foundation<span class="token double-colon punctuation">::</span>IInspectable <span class="token keyword">const</span> <span class="token operator">&amp;</span>value<span class="token punctuation">,</span><br />      winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span>Interop<span class="token double-colon punctuation">::</span>TypeName <span class="token keyword">const</span> <span class="token operator">&amp;</span> <span class="token comment">/*targetType*/</span><span class="token punctuation">,</span><br />      winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>Foundation<span class="token double-colon punctuation">::</span>IInspectable <span class="token keyword">const</span> <span class="token operator">&amp;</span> <span class="token comment">/*parameter*/</span><span class="token punctuation">,</span><br />      winrt<span class="token double-colon punctuation">::</span>hstring <span class="token keyword">const</span> <span class="token operator">&amp;</span> <span class="token comment">/*language*/</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">;</span><br /><br />  winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>Foundation<span class="token double-colon punctuation">::</span>IInspectable <span class="token function">ConvertBack</span><span class="token punctuation">(</span><br />      winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>Foundation<span class="token double-colon punctuation">::</span>IInspectable <span class="token keyword">const</span> <span class="token operator">&amp;</span>value<span class="token punctuation">,</span><br />      winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span>Interop<span class="token double-colon punctuation">::</span>TypeName <span class="token keyword">const</span> <span class="token operator">&amp;</span> <span class="token comment">/*targetType*/</span><span class="token punctuation">,</span><br />      winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>Foundation<span class="token double-colon punctuation">::</span>IInspectable <span class="token keyword">const</span> <span class="token operator">&amp;</span> <span class="token comment">/*parameter*/</span><span class="token punctuation">,</span><br />      winrt<span class="token double-colon punctuation">::</span>hstring <span class="token keyword">const</span> <span class="token operator">&amp;</span> <span class="token comment">/*language*/</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">;</span><br /><br />  <span class="token keyword">static</span> winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span>Data<span class="token double-colon punctuation">::</span>IValueConverter <span class="token function">Instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span><span class="token punctuation">;</span><br /><br />  <span class="token comment">// IValueConverter</span><br /><span class="token punctuation">}</span><span class="token punctuation">;</span><br /><br /><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// #ifndef RNW_NEW_ARCH</span></span><br /><br /><span class="token punctuation">}</span> <span class="token comment">// namespace winrt::testlib::implementation</span><br /></code></pre>
</span></div></div><div id="tab-group-125-content-127" class="tab-pane" data-group="group_125" tabindex="-1"><div><span><pre><code class="hljs css language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"pch.h"</span></span><br /><br /><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"CircleMask.h"</span></span><br /><br /><span class="token keyword">namespace</span> winrt<span class="token double-colon punctuation">::</span>testlib<span class="token double-colon punctuation">::</span>implementation <span class="token punctuation">{</span><br /><br /><span class="token keyword">void</span> <span class="token function">RegisterCircleMaskNativeComponent</span><span class="token punctuation">(</span><br />    winrt<span class="token double-colon punctuation">::</span>Microsoft<span class="token double-colon punctuation">::</span>ReactNative<span class="token double-colon punctuation">::</span>IReactPackageBuilder <span class="token keyword">const</span> <span class="token operator">&amp;</span>packageBuilder<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{</span><br /><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">RNW_NEW_ARCH</span></span><br />  packageBuilder<span class="token punctuation">.</span><span class="token function">AddViewManager</span><span class="token punctuation">(</span>L<span class="token string">"CircleMaskViewManager"</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> winrt<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">make</span><span class="token generic class-name"><span class="token operator">&lt;</span>CircleMaskViewManager<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br /><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span><br /><span class="token punctuation">}</span><br /><br /><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">RNW_NEW_ARCH</span></span><br /><br /><span class="token comment">// IViewManager</span><br />winrt<span class="token double-colon punctuation">::</span>hstring <span class="token class-name">CircleMaskViewManager</span><span class="token double-colon punctuation">::</span><span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{</span><br />  <span class="token keyword">return</span> L<span class="token string">"CircleMask"</span><span class="token punctuation">;</span><br /><span class="token punctuation">}</span><br /><br />winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span>FrameworkElement <span class="token class-name">CircleMaskViewManager</span><span class="token double-colon punctuation">::</span><span class="token function">CreateView</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{</span><br />  <span class="token keyword">auto</span> <span class="token keyword">const</span> <span class="token operator">&amp;</span>view <span class="token operator">=</span> winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span><span class="token class-name">Controls</span><span class="token double-colon punctuation">::</span><span class="token function">Border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br /><br />  <span class="token keyword">auto</span> <span class="token keyword">const</span> <span class="token operator">&amp;</span>binding <span class="token operator">=</span> winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span><span class="token class-name">Data</span><span class="token double-colon punctuation">::</span><span class="token function">Binding</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br />  binding<span class="token punctuation">.</span><span class="token function">Source</span><span class="token punctuation">(</span>view<span class="token punctuation">)</span><span class="token punctuation">;</span><br />  binding<span class="token punctuation">.</span><span class="token function">Path</span><span class="token punctuation">(</span>winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span><span class="token class-name">Xaml</span><span class="token double-colon punctuation">::</span><span class="token function">PropertyPath</span><span class="token punctuation">(</span>L<span class="token string">"Height"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br />  binding<span class="token punctuation">.</span><span class="token function">Converter</span><span class="token punctuation">(</span><span class="token class-name">HeightToCornerRadiusConverter</span><span class="token double-colon punctuation">::</span><span class="token function">Instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br /><br />  view<span class="token punctuation">.</span><span class="token function">SetBinding</span><span class="token punctuation">(</span>winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span>Controls<span class="token double-colon punctuation">::</span><span class="token class-name">Border</span><span class="token double-colon punctuation">::</span><span class="token function">CornerRadiusProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> binding<span class="token punctuation">)</span><span class="token punctuation">;</span><br /><br />  <span class="token keyword">return</span> view<span class="token punctuation">;</span><br /><span class="token punctuation">}</span><br /><br /><span class="token comment">// IViewManagerWithChildren</span><br /><br /><span class="token keyword">void</span> <span class="token class-name">CircleMaskViewManager</span><span class="token double-colon punctuation">::</span><span class="token function">AddView</span><span class="token punctuation">(</span><br />    winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span>FrameworkElement <span class="token keyword">const</span> <span class="token operator">&amp;</span>parent<span class="token punctuation">,</span><br />    winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span>UIElement <span class="token keyword">const</span> <span class="token operator">&amp;</span>child<span class="token punctuation">,</span><br />    <span class="token keyword">int64_t</span> <span class="token comment">/*index*/</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{</span><br />  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token keyword">const</span> <span class="token operator">&amp;</span>border <span class="token operator">=</span> parent<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">try_as</span><span class="token generic class-name"><span class="token operator">&lt;</span>winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span>Controls<span class="token double-colon punctuation">::</span>Border<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br />    border<span class="token punctuation">.</span><span class="token function">Child</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span><br />  <span class="token punctuation">}</span><br /><span class="token punctuation">}</span><br /><br /><span class="token keyword">void</span> <span class="token class-name">CircleMaskViewManager</span><span class="token double-colon punctuation">::</span><span class="token function">RemoveAllChildren</span><span class="token punctuation">(</span>winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span>FrameworkElement <span class="token keyword">const</span> <span class="token operator">&amp;</span>parent<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{</span><br />  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token keyword">const</span> <span class="token operator">&amp;</span>border <span class="token operator">=</span> parent<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">try_as</span><span class="token generic class-name"><span class="token operator">&lt;</span>winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span>Controls<span class="token double-colon punctuation">::</span>Border<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br />    border<span class="token punctuation">.</span><span class="token function">Child</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br />  <span class="token punctuation">}</span><br /><span class="token punctuation">}</span><br /><br /><span class="token keyword">void</span> <span class="token class-name">CircleMaskViewManager</span><span class="token double-colon punctuation">::</span><span class="token function">RemoveChildAt</span><span class="token punctuation">(</span><br />    winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span>FrameworkElement <span class="token keyword">const</span> <span class="token operator">&amp;</span>parent<span class="token punctuation">,</span><br />    <span class="token keyword">int64_t</span> <span class="token comment">/*index*/</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{</span><br />  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token keyword">const</span> <span class="token operator">&amp;</span>border <span class="token operator">=</span> parent<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">try_as</span><span class="token generic class-name"><span class="token operator">&lt;</span>winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span>Controls<span class="token double-colon punctuation">::</span>Border<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br />    border<span class="token punctuation">.</span><span class="token function">Child</span><span class="token punctuation">(</span><span class="token keyword">nullptr</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br />  <span class="token punctuation">}</span><br /><span class="token punctuation">}</span><br /><br /><span class="token keyword">void</span> <span class="token class-name">CircleMaskViewManager</span><span class="token double-colon punctuation">::</span><span class="token function">ReplaceChild</span><span class="token punctuation">(</span><br />    winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span>FrameworkElement <span class="token keyword">const</span> <span class="token operator">&amp;</span>parent<span class="token punctuation">,</span><br />    winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span>UIElement <span class="token keyword">const</span> <span class="token operator">&amp;</span> <span class="token comment">/*oldChild*/</span><span class="token punctuation">,</span><br />    winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span>UIElement <span class="token keyword">const</span> <span class="token operator">&amp;</span>newChild<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{</span><br />  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">auto</span> <span class="token keyword">const</span> <span class="token operator">&amp;</span>border <span class="token operator">=</span> parent<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">try_as</span><span class="token generic class-name"><span class="token operator">&lt;</span>winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span>Controls<span class="token double-colon punctuation">::</span>Border<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br />    border<span class="token punctuation">.</span><span class="token function">Child</span><span class="token punctuation">(</span>newChild<span class="token punctuation">)</span><span class="token punctuation">;</span><br />  <span class="token punctuation">}</span><br /><span class="token punctuation">}</span><br /><br />winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>Foundation<span class="token double-colon punctuation">::</span>IInspectable <span class="token class-name">HeightToCornerRadiusConverter</span><span class="token double-colon punctuation">::</span><span class="token function">Convert</span><span class="token punctuation">(</span><br />    winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>Foundation<span class="token double-colon punctuation">::</span>IInspectable <span class="token keyword">const</span> <span class="token operator">&amp;</span>value<span class="token punctuation">,</span><br />    winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span>Interop<span class="token double-colon punctuation">::</span>TypeName <span class="token keyword">const</span> <span class="token operator">&amp;</span> <span class="token comment">/*targetType*/</span><span class="token punctuation">,</span><br />    winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>Foundation<span class="token double-colon punctuation">::</span>IInspectable <span class="token keyword">const</span> <span class="token operator">&amp;</span> <span class="token comment">/*parameter*/</span><span class="token punctuation">,</span><br />    winrt<span class="token double-colon punctuation">::</span>hstring <span class="token keyword">const</span> <span class="token operator">&amp;</span> <span class="token comment">/*language*/</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{</span><br />  <span class="token keyword">double</span> d <span class="token operator">=</span> winrt<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">unbox_value</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">double</span><span class="token operator">></span></span></span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><br /><br />  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isnan</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br />    d <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span><br />  <span class="token punctuation">}</span><br /><br />  <span class="token keyword">return</span> winrt<span class="token double-colon punctuation">::</span><span class="token function">box_value</span><span class="token punctuation">(</span>winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span><span class="token class-name">CornerRadiusHelper</span><span class="token double-colon punctuation">::</span><span class="token function">FromUniformRadius</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br /><span class="token punctuation">}</span><br /><br />winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>Foundation<span class="token double-colon punctuation">::</span>IInspectable <span class="token class-name">HeightToCornerRadiusConverter</span><span class="token double-colon punctuation">::</span><span class="token function">ConvertBack</span><span class="token punctuation">(</span><br />    winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>Foundation<span class="token double-colon punctuation">::</span>IInspectable <span class="token keyword">const</span> <span class="token operator">&amp;</span>value<span class="token punctuation">,</span><br />    winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span>Interop<span class="token double-colon punctuation">::</span>TypeName <span class="token keyword">const</span> <span class="token operator">&amp;</span> <span class="token comment">/*targetType*/</span><span class="token punctuation">,</span><br />    winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>Foundation<span class="token double-colon punctuation">::</span>IInspectable <span class="token keyword">const</span> <span class="token operator">&amp;</span> <span class="token comment">/*parameter*/</span><span class="token punctuation">,</span><br />    winrt<span class="token double-colon punctuation">::</span>hstring <span class="token keyword">const</span> <span class="token operator">&amp;</span> <span class="token comment">/*language*/</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{</span><br />  <span class="token keyword">return</span> value<span class="token punctuation">;</span><br /><span class="token punctuation">}</span><br /><br />winrt<span class="token double-colon punctuation">::</span>Windows<span class="token double-colon punctuation">::</span>UI<span class="token double-colon punctuation">::</span>Xaml<span class="token double-colon punctuation">::</span>Data<span class="token double-colon punctuation">::</span>IValueConverter <span class="token class-name">HeightToCornerRadiusConverter</span><span class="token double-colon punctuation">::</span><span class="token function">Instance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{</span><br />  <span class="token keyword">static</span> <span class="token keyword">auto</span> <span class="token keyword">const</span> <span class="token operator">&amp;</span>instance <span class="token operator">=</span> winrt<span class="token double-colon punctuation">::</span><span class="token generic-function"><span class="token function">make</span><span class="token generic class-name"><span class="token operator">&lt;</span>HeightToCornerRadiusConverter<span class="token operator">></span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br />  <span class="token keyword">return</span> instance<span class="token punctuation">;</span><br /><span class="token punctuation">}</span><span class="token punctuation">;</span><br /><br /><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span> <span class="token comment">// #ifndef RNW_NEW_ARCH</span></span><br /><br /><span class="token punctuation">}</span> <span class="token comment">// namespace winrt::testlib::implementation</span><br /></code></pre>
</span></div></div></div></div>
<p>As you can see, the <code>CircleMask.h</code> file defines three things:</p>
<ol>
<li>A <code>RegisterCircleMaskNativeComponent</code> function to register the <code>CircleMask</code> Paper View Manager with React Native</li>
<li>A <code>CircleMaskViewManager</code> struct containing the <code>CircleMask</code> Paper View Manager</li>
<li>A <code>HeightToCornerRadiusConverter</code> struct with some helper functionality</li>
</ol>
<p>Then within <code>CircleMask.cpp</code> we have the implementation specifics for our new Native Component. Note the use of <code>#ifndef RNW_NEW_ARCH</code> to ensure the Paper View Manager code is only included when the library is used by Old Architecture apps.</p>
<blockquote>
<p><strong>Note:</strong> For a more complete example of how to implement a <code>CircleMask</code> component for both Fabric and Paper simultaneously, see the implementation in the <a href="https://github.com/microsoft/react-native-windows-samples/tree/main/samples/NativeModuleSample/cpp-lib">Native Module Sample</a> project.</p>
</blockquote>
<h4><a class="anchor" aria-hidden="true" id="32-adding-the-native-components-files-to-the-native-project"></a><a href="#32-adding-the-native-components-files-to-the-native-project" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3.2 Adding the Native Component's files to the native project</h4>
<p>Since we've created some new native files (<code>CircleMask.h</code> and <code>CircleMask.cpp</code> above), we need to make sure they are included in the native Windows project (<code>windows\testlib\testlib.vcxproj</code> and <code>windows\testlib\testlib.vcxproj.filters</code> in our example) so that they are included in the native build:</p>
<div class="tabs"><div class="nav-tabs"><div id="tab-group-128-tab-129" class="nav-link active" data-group="group_128" data-tab="tab-group-128-content-129">testlib.vcxproj</div><div id="tab-group-128-tab-130" class="nav-link" data-group="group_128" data-tab="tab-group-128-content-130">testlib.vcxproj.filters</div></div><div class="tab-content"><div id="tab-group-128-content-129" class="tab-pane active" data-group="group_128" tabindex="-1"><div><span><pre><code class="hljs css language-diff">  &lt;ItemGroup&gt;<br />    &lt;ClInclude Include="testlib.h" /&gt;<br /><span class="hljs-addition">+   &lt;ClInclude Include="CircleMask.h" /&gt;</span><br />    &lt;ClInclude Include="ReactPackageProvider.h"&gt;<br />      &lt;DependentUpon&gt;ReactPackageProvider.idl&lt;/DependentUpon&gt;<br />    &lt;/ClInclude&gt;<br />    &lt;ClInclude Include="resource.h" /&gt;<br />    &lt;ClInclude Include="pch.h" /&gt;<br />    &lt;ClInclude Include="targetver.h" /&gt;<br />  &lt;/ItemGroup&gt;<br />  &lt;ItemGroup&gt;<br />    &lt;ClCompile Include="testlib.cpp" /&gt;<br /><span class="hljs-addition">+   &lt;ClCompile Include="CircleMask.cpp" /&gt;</span><br />    &lt;ClCompile Include="pch.cpp"&gt;<br />      &lt;PrecompiledHeader&gt;Create&lt;/PrecompiledHeader&gt;<br />    &lt;/ClCompile&gt;<br />    &lt;ClCompile Include="ReactPackageProvider.cpp"&gt;<br />      &lt;DependentUpon&gt;ReactPackageProvider.idl&lt;/DependentUpon&gt;<br />    &lt;/ClCompile&gt;<br />    &lt;ClCompile Include="$(GeneratedFilesDir)module.g.cpp" /&gt;<br />  &lt;/ItemGroup&gt;<br /></code></pre>
</span></div></div><div id="tab-group-128-content-130" class="tab-pane" data-group="group_128" tabindex="-1"><div><span><pre><code class="hljs css language-diff">  &lt;ItemGroup&gt;<br />    &lt;ClInclude Include="targetver.h"&gt;<br />      &lt;Filter&gt;Header Files&lt;/Filter&gt;<br />    &lt;/ClInclude&gt;<br />    &lt;ClInclude Include="resource.h"&gt;<br />      &lt;Filter&gt;Header Files&lt;/Filter&gt;<br />    &lt;/ClInclude&gt;<br />    &lt;ClInclude Include="testlib.h"&gt;<br />      &lt;Filter&gt;Header Files&lt;/Filter&gt;<br />    &lt;/ClInclude&gt;<br /><span class="hljs-addition">+   &lt;ClInclude Include="CircleMask.h"&gt;</span><br /><span class="hljs-addition">+     &lt;Filter&gt;Header Files&lt;/Filter&gt;</span><br /><span class="hljs-addition">+   &lt;/ClInclude&gt;</span><br />    &lt;ClInclude Include="pch.h"&gt;<br />      &lt;Filter&gt;Header Files&lt;/Filter&gt;<br />    &lt;/ClInclude&gt;<br />  &lt;/ItemGroup&gt;<br />  &lt;ItemGroup&gt;<br />    &lt;ClCompile Include="testlib.cpp"&gt;<br />      &lt;Filter&gt;Source Files&lt;/Filter&gt;<br />    &lt;/ClCompile&gt;<br /><span class="hljs-addition">+   &lt;ClCompile Include="CircleMask.cpp"&gt;</span><br /><span class="hljs-addition">+     &lt;Filter&gt;Source Files&lt;/Filter&gt;</span><br /><span class="hljs-addition">+   &lt;/ClCompile&gt;</span><br />    &lt;ClCompile Include="pch.cpp"&gt;<br />      &lt;Filter&gt;Source Files&lt;/Filter&gt;<br />    &lt;/ClCompile&gt;<br />  &lt;/ItemGroup&gt;<br /></code></pre>
</span></div></div></div></div>
<h4><a class="anchor" aria-hidden="true" id="33-registering-the-paper-view-manager-with-the-react-package-provider"></a><a href="#33-registering-the-paper-view-manager-with-the-react-package-provider" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3.3 Registering the Paper View Manager with the React Package Provider</h4>
<p>Every React Native for Windows library contains an <a href="/react-native-windows/docs/0.79/native-api/IReactPackageProvider-api-windows"><code>IReactPackageProvider</code></a> which contains all of the library's Native Modules (and/or Components) so React Native can use them at runtime. The final bit of native work we need is to update <code>ReactPackageProvider::CreatePackage</code> in <code>windows\testlib\ReactPackageProvider.cpp</code>:</p>
<pre><code class="hljs css language-cpp"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"pch.h"</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ReactPackageProvider.h"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">if</span> <span class="token expression"><span class="token function">__has_include</span><span class="token punctuation">(</span></span><span class="token string">"ReactPackageProvider.g.cpp"</span><span class="token expression"><span class="token punctuation">)</span></span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"ReactPackageProvider.g.cpp"</span></span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"testlib.h"</span></span>

<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"CircleMask.h"</span></span>

<span class="token keyword">using</span> <span class="token keyword">namespace</span> winrt<span class="token double-colon punctuation">::</span>Microsoft<span class="token double-colon punctuation">::</span>ReactNative<span class="token punctuation">;</span>

<span class="token keyword">namespace</span> winrt<span class="token double-colon punctuation">::</span>testlib<span class="token double-colon punctuation">::</span>implementation <span class="token punctuation">{</span>

<span class="token keyword">void</span> <span class="token class-name">ReactPackageProvider</span><span class="token double-colon punctuation">::</span><span class="token function">CreatePackage</span><span class="token punctuation">(</span>IReactPackageBuilder <span class="token keyword">const</span> <span class="token operator">&amp;</span>packageBuilder<span class="token punctuation">)</span> <span class="token keyword">noexcept</span> <span class="token punctuation">{</span>
  <span class="token function">AddAttributedModules</span><span class="token punctuation">(</span>packageBuilder<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">RegisterCircleMaskNativeComponent</span><span class="token punctuation">(</span>packageBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token punctuation">}</span> <span class="token comment">// namespace winrt::testlib::implementation</span>
</code></pre>
<p>The key bit here is adding the <code>#include &quot;CircleMask.h&quot;</code> include and adding the call to the <code>RegisterCircleMaskNativeComponent</code> function we created earlier. This makes sure the new Native Component is included in the library's package.</p>
<h3><a class="anchor" aria-hidden="true" id="4-use-the-native-component-in-your-javascript"></a><a href="#4-use-the-native-component-in-your-javascript" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>4. Use the Native Component in your JavaScript</h3>
<p>Now, if we go back to the <code>CircleMaskNativeComponent.ts</code> TypeScript spec file, we'll see that exports the <code>CircleMaskProps</code> interface as well as the Native Component. The next step is to use those exported items in our JavaScript code.</p>
<p>Since the purpose of the library is to expose the native functionality to code outside of the library (aka our React Native for Windows app code), the default is to export the functionality in the project's index, in this case, in <code>src\index.tsx</code>:</p>
<pre><code class="hljs css language-tsx"><span class="hljs-keyword">import</span> Testlib <span class="hljs-keyword">from</span> <span class="hljs-string">'./NativeTestlib'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">multiply</span>(<span class="hljs-params">a: <span class="hljs-built_in">number</span>, b: <span class="hljs-built_in">number</span></span>): <span class="hljs-title">number</span> </span>{
  <span class="hljs-keyword">return</span> Testlib.multiply(a, b);
}

<span class="hljs-keyword">export</span> {<span class="hljs-keyword">default</span> <span class="hljs-keyword">as</span> CircleMask} <span class="hljs-keyword">from</span> <span class="hljs-string">'./CircleMaskNativeComponent'</span>;
<span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./CircleMaskNativeComponent'</span>;
</code></pre>
<p>We can see then, that <code>testlib</code> JavaScript module simply exports our new Native Component as <code>CircleMask</code> and everything else as-is from the <code>CircleMaskNativeComponent</code> module.</p>
<blockquote>
<p><strong>Note:</strong> Libraries are not required to expose any of their Native Components <em>directly</em> to their consumers. This sample just illustrates the simplest case of exporting the <code>CircleMask</code> Native Component as-is. Libraries can and often do wrap their Native Components within JavaScript ones, and therefore may provide a wholly different API surface to their customers.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="next-steps"></a><a href="#next-steps" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Next Steps</h2>
<p>After you've implemented your native library, the final step is to consume it in your React Native for Windows app. Continue with <a href="/react-native-windows/docs/0.79/native-platform-using">Native Platform: Using Native Libraries</a>.</p>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 10/30/2025</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/react-native-windows/docs/0.79/native-platform-components"><span class="arrow-prev">← </span><span>Native Components (Fabric)</span></a><a class="docs-next button" href="/react-native-windows/docs/0.79/native-platform-using"><span>Using Native Libraries</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#high-level-overview">High-Level Overview</a></li><li><a href="#step-by-step-guide">Step by Step Guide</a><ul class="toc-headings"><li><a href="#0-setup">0. Setup</a></li><li><a href="#1-define-the-api-surface-in-typescript">1. Define the API surface in TypeScript</a></li><li><a href="#2-use-react-native-for-windows-native-library-codegen">2. Use React Native for Windows' Native Library Codegen</a></li><li><a href="#3-implement-the-windows-c-code">3. Implement the Windows C++ code</a></li><li><a href="#4-use-the-native-component-in-your-javascript">4. Use the Native Component in your JavaScript</a></li></ul></li><li><a href="#next-steps">Next Steps</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><div><h5>React Native Docs</h5><a href="https://reactnative.dev/docs/getting-started">Getting Started</a><a href="https://reactnative.dev/docs/tutorial">Tutorial</a><a href="https://reactnative.dev/docs/components-and-apis">Components and APIs</a><a href="https://reactnative.dev/docs/more-resources">More Resources</a></div><div><h5>React Native for Windows Docs</h5><div style="color:white;font-weight:500;font-size:16px"><a href="/react-native-windows/docs/getting-started">Get Started with Windows</a></div><a href="/react-native-windows/docs/parity-status">React Native Windows Components and APIs</a><a href="/react-native-windows/docs/native-modules">Native Modules</a><a href="/react-native-windows/docs/view-managers">Native UI Components</a></div><div><h5>Connect With Us On</h5><a href="https://devblogs.microsoft.com/react-native/">Blog</a><a href="https://twitter.com/ReactNativeMSFT" target="_blank">Twitter</a><a href="https://github.com/microsoft/react-native-windows" target="_blank">GitHub</a><a href="https://github.com/microsoft/react-native-windows-samples/tree/main/samples" target="_blank">Samples</a></div></section></footer></div></body></html>