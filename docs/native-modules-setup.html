<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Native Module Setup · React Native for Windows</title><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="generator" content="Docusaurus"/><meta name="description" content="![Architecture](https://img.shields.io/badge/architecture-needs_review-red)"/><meta name="docsearch:version" content="0.80"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Native Module Setup · React Native for Windows"/><meta property="og:type" content="website"/><meta property="og:url" content="https://microsoft.github.io/react-native-windows/"/><meta property="og:description" content="![Architecture](https://img.shields.io/badge/architecture-needs_review-red)"/><meta property="og:image" content="https://microsoft.github.io/react-native-windows/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://microsoft.github.io/react-native-windows/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/react-native-windows/img/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/solarized-dark.min.css"/><link rel="stylesheet" href="/react-native-windows/css/code-block-buttons.css"/><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/focus-visible@5.0.2/dist/focus-visible.min.js"></script><script type="text/javascript" src="https://platform.twitter.com/widgets.js"></script><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><script type="text/javascript" src="/react-native-windows/js/code-block-buttons.js"></script><script type="text/javascript" src="/react-native-windows/js/nav-buttons.js"></script><script src="https://unpkg.com/vanilla-back-to-top@7.1.14/dist/vanilla-back-to-top.min.js"></script><script>
        document.addEventListener('DOMContentLoaded', function() {
          addBackToTop(
            {"zIndex":100}
          )
        });
        </script><script src="/react-native-windows/js/scrollSpy.js"></script><link rel="stylesheet" href="/react-native-windows/css/prism.css"/><link rel="stylesheet" href="/react-native-windows/css/main.css"/><script src="/react-native-windows/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/react-native-windows/"><img class="logo" src="/react-native-windows/img/header_logo.svg" alt="React Native for Windows"/><h2 class="headerTitleWithLogo">React Native for Windows</h2></a><a href="/react-native-windows/versions"><h3>0.80</h3></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/react-native-windows/docs/getting-started" target="_self">Docs</a></li><li class=""><a href="/react-native-windows/docs/flyout-component" target="_self">APIs</a></li><li class=""><a href="https://devblogs.microsoft.com/react-native/" target="_self">Blog</a></li><li class=""><a href="/react-native-windows/resources" target="_self">Resources</a></li><li class=""><a href="https://github.com/microsoft/react-native-windows-samples/tree/main/samples" target="_self">Samples</a></li><li class=""><a href="/react-native-windows/support" target="_self">Support</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Native Modules</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">The Basics<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/getting-started">Get Started with Windows</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/rnw-dependencies">System Requirements</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/react-native-windows-cli">React Native Windows CLI</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/parity-status">React Native Windows Components and APIs</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/config">React Native Config Schema</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/windowsbrush-and-theme">Using PlatformColor and Responding to Themes</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/releases">Release Strategy</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/platform">Platform Detection</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/upgrade-app">Upgrading App to Latest Version of React Native Windows</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/migration-guide">Migration Guide</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/setup-ci">Setup Continuous Integration Pipeline for an RNW App</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/app-publishing">Publishing a React Native Windows App to the Microsoft Store</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/supported-community-modules">Supported Community Modules</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">CLI Commands<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/autolink-windows-cli">react-native autolink-windows</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/codegen-windows-cli">react-native codegen-windows</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/init-windows-cli">react-native init-windows</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/run-windows-cli">react-native run-windows</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Native Development<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/native-platform">Overview</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/native-platform-getting-started">Getting Started</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/native-platform-modules">Native Modules</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/native-platform-components">Native Components (Fabric)</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/native-platform-components-paper">Native Components (Paper)</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/native-platform-using">Using Native Libraries</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Advanced Topics<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/win10-vm">Developing Windows apps on a non-Windows PC</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/hermes">Hermes on Windows</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/NuGet">Using Microsoft.ReactNative NuGet packages</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Troubleshooting<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/debugging-javascript">JavaScript Debugging</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/metro-config-out-tree-platforms">Metro config for out of tree platforms</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Legacy Docs<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Native Modules</h4><ul><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/native-modules">Native Modules</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/view-managers">Native UI Components</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/react-native-windows/docs/native-modules-setup">Native Module Setup</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/native-modules-vs-turbo-modules">Native Modules vs Turbo Modules</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/native-modules-using">Using Community Native Modules</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/native-modules-autolinking">Autolinking Native Modules</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/native-modules-advanced">Native Modules (Advanced)</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/native-modules-troubleshooting">Troubleshooting Native Modules</a></li></ul></div><div class="navGroup subNavGroup"><h4 class="navGroupSubcategoryTitle">Native Development</h4><ul><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/native-code">Working with native code on Windows</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/native-code-language-choice">Choosing C++ or C# for native code</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/native-modules-marshalling-data">Marshaling Data</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/native-modules-async">Using Asynchronous Windows APIs</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/native-modules-jsvalue">Using JSValue</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/native-modules-csharp-codegen">Compile time code generation for C#</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/customizing-SDK-versions">Customizing SDK versions</a></li><li class="navListItem"><a class="navItem" href="/react-native-windows/docs/managing-cpp-deps">Managing C++ dependencies</a></li></ul></div></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><a class="edit-page-link button" href="https://github.com/microsoft/react-native-windows-samples/blob/main/docs/native-modules-setup.md" target="_blank" rel="noreferrer noopener">Edit</a><h1 id="__docusaurus" class="postHeaderTitle">Native Module Setup</h1></header><article><div><span><p><img src="https://img.shields.io/badge/architecture-needs_review-red" alt="Architecture"></p>
<blockquote>
<p><strong>Architecture Review Needed:</strong> This documentation was written to support development against React Native's &quot;Old&quot; or &quot;Legacy&quot; Architecture. It <em>may or may not</em> be directly applicable to New Architecture development and needs to be reviewed and potentially updated. For information on React Native architectures in React Native Windows, see <a href="/react-native-windows/docs/new-architecture">New vs. Old Architecture</a>.</p>
</blockquote>
<blockquote>
<p>For the latest information on native development on Windows, see <a href="/react-native-windows/docs/native-platform">Native Platform: Overview</a>.</p>
</blockquote>
<blockquote>
<p><strong>This documentation is a work in progress and version-specific. Please check that the version of this document (top of page) matches the version of RN/RNW you're targeting.</strong></p>
</blockquote>
<p>This guide will set you up with our recommendations for authoring a native module for React Native for Windows. After completing this setup, you should be able to answer the question: <em>Where do I need to implement the native code so it's available at runtime?</em></p>
<p>With this question answered, you should be ready to start implementing the native module you wish to expose to your RNW app.</p>
<h2><a class="anchor" aria-hidden="true" id="development-environment"></a><a href="#development-environment" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Development Environment</h2>
<p>First, make sure you have installed all of the <a href="/react-native-windows/docs/rnw-dependencies">React Native for Windows development dependencies</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="decide-where-to-host-your-native-module"></a><a href="#decide-where-to-host-your-native-module" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Decide where to host your native module</h2>
<p>Once your development environment has been correctly configured, next you need to choose <em>where</em> your native module will live. You have three main options:</p>
<ol>
<li><a href="#option-1-create-a-native-module-within-your-react-native-for-windows-app-project">Create a native module within your React Native for Windows app project</a></li>
<li><a href="#option-2-add-windows-support-to-an-existing-native-module-library">Add Windows support to an existing native module library</a></li>
<li><a href="#option-3-create-a-new-native-module-library">Create a new native module library</a></li>
</ol>
<h3><a class="anchor" aria-hidden="true" id="option-1-create-a-native-module-within-your-react-native-for-windows-app-project"></a><a href="#option-1-create-a-native-module-within-your-react-native-for-windows-app-project" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Option 1: Create a native module within your React Native for Windows app project</h3>
<p>The quickest route to exposing native functionality to your React Native for Windows app is to just create a new native module within your existing app project. That is, assuming:</p>
<ol>
<li>You followed the <a href="/react-native-windows/docs/getting-started">Getting Started</a> guide, where</li>
<li>You used the <a href="https://github.com/react-native-community/cli/blob/main/docs/init.md">React Native Community CLI's <code>init</code> command</a> to create a new React Native project, and</li>
<li>You added <code>react-native-windows</code> as a dependency for the project, and</li>
<li>You used the <a href="/react-native-windows/docs/init-windows-cli">React Native Windows CLI's <code>init-windows</code> command</a> to initialize the native Windows code for the project</li>
</ol>
<p>Then you should be able implement any RNW native modules directly within the native Windows app project, without the need of creating any separate projects, libraries or packages. This option is especially suitable if your native requirements are very small, such as you only need to expose native functionality to a single Windows app and don't intend to share it other apps nor implement the functionality for non-Windows platforms.</p>
<p>So, the answer to <em>Where do I need to implement the native code so it's available at runtime?</em>:</p>
<p>You're going to implement the native code inside your native Windows app project. I.e. if your app is named <code>MyApp</code>, you'll be creating and modifying files in the <code>windows\MyApp\</code> folder of your project.</p>
<p>If you've chosen this option, you can skip straight to <a href="#next-steps">Next Steps</a>.</p>
<blockquote>
<p><strong>Note:</strong> The RNW app templates already include a built-in <code>IReactPackageProvider</code> to take care of registering any such native modules with React Native at runtime. You just need to implement the native Windows and JS/TS code of the module itself.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="option-2-add-windows-support-to-an-existing-native-module-library"></a><a href="#option-2-add-windows-support-to-an-existing-native-module-library" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Option 2: Add Windows support to an existing native module library</h3>
<p>There are a variety of existing (community) native module libraries which expose the native functionality of other platforms such as Android and iOS. If the library doesn't already support Windows, you can try to add Windows support yourself. This option is suitable if you already own (or are heavily invested in using) an existing library, and you're willing to work with the library owner(s) to add Windows support.</p>
<p>First, you'll need to get the library's source. If the library is open source (many are), you can often find a link to its source repository in its npmjs.com listing.</p>
<p>Once you have the source set up on your dev machine, you should be go to <a href="#add-windows-support-to-a-native-module-library">Add Windows support to a native module library</a>.</p>
<blockquote>
<p><strong>Note:</strong> Sometimes (community) libraries change owners, get abandoned, and/or are unwilling to add and maintain Windows support. There's currently no easy way to extend libraries you can't contribute to, other than by making and publishing your own fork of the code. So it's a good idea to figure out your plan and communicate with the library owner before you get too far in the implementation process.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="option-3-create-a-new-native-module-library"></a><a href="#option-3-create-a-new-native-module-library" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Option 3: Create a new native module library</h3>
<p>If you want a library that can be used and re-used by multiple app projects, and an existing library doesn't already exist (or you don't have permission to modify it) the best option is to create a new library project to host the native module and its functionality.</p>
<p>The basic steps to create a new native module library project are:</p>
<ol>
<li>Create a new, base React Native library project</li>
<li>Add <code>react-native-windows</code> as a dependency for the project</li>
<li>Use the <a href="/react-native-windows/docs/init-windows-cli">React Native Windows CLI's <code>init-windows</code> command</a> to initialize the native Windows code for the project</li>
</ol>
<p>Unfortunately, neither React Native nor the React Native Community CLI provide a method for creating new React Native library projects. However, there are many popular third-party CLI tools for doing so. Specifically, RNW tests its supported library templates against projects created by the <a href="https://callstack.github.io/react-native-builder-bob/create"><code>create-react-native-library</code> CLI tool</a>.</p>
<p>To start creating a new library project named <code>my-library</code>, using <code>create-react-native-library</code>, run:</p>
<pre><code class="hljs css language-bat">npx --yes create-react-native-library@latest my-library
</code></pre>
<p>You will be prompted to answer several questions about your new library. The tool supports a variety of different project types, but since our goal  here is to create a new project that we can add a Windows native module to, we recommend the following options:</p>
<ol>
<li><p><strong>Type:</strong> The native code you expect to expose and the types of apps you want to support will dictate the option you select here:</p>
<ol>
<li>If you're exposing non-UI functionality (i.e. new native functions), choose either:
<ol>
<li><code>Turbo module</code> (i.e. <code>--template module-new</code>) if you only want to support New Architecture apps, or</li>
<li><code>Turbo module with backward compat</code> (i.e. <code>--template module-mixed</code>) if you want to support both New and Old Architecture apps</li>
</ol></li>
<li>If you're exposing UI functionality (i.e. new native views), choose either:
<ol>
<li><code>Fabric view</code> (i.e. <code>--template view-new</code>) if you only want to support New Architecture apps, or</li>
<li><code>Fabric view with backward compat</code> (i.e. <code>--template view-mixed</code>) if you want to support both New and Old Architecture apps</li>
</ol></li>
<li>If you want to expose both UI and non-UI functionality, you have two options:
<ol>
<li>Create two separate libraries, one for UI, one for non-UI</li>
<li>Just pick one option to start and expect you'll need to do some more manual work to add the other later. A library can easily support both UI and non-UI, you just won't have any sample code for the option you don't choose first.</li>
</ol></li>
</ol></li>
<li><p><strong>Languages:</strong> This choice only impacts the language(s) you will use to implement Android and iOS native code.</p>
<blockquote>
<p><strong>Note:</strong> If you pick <code>C++ for Android &amp; iOS</code> with the intention of also sharing C++ code with Windows, there's some manual work you'll have to do to include and use that shared C++ code in your RNW library implementation.</p>
</blockquote></li>
<li><p><strong>Example:</strong> Vanilla (i.e. <code>--example vanilla</code>)</p></li>
</ol>
<blockquote>
<p><strong>Note:</strong> Your experience may vary if you choose different options than those recommended above. For more information on all of the options that <code>create-react-native-library</code> provides, see <a href="https://callstack.github.io/react-native-builder-bob/create"><code>create-react-native-library</code> CLI documentation</a>.</p>
</blockquote>
<p>After you've created your base React Native library, navigate to the folder you created and run:</p>
<pre><code class="hljs css language-cmd">yarn install
</code></pre>
<p>Now you should be ready to continue on to <a href="#add-windows-support-to-a-native-module-library">Add Windows support to a native module library</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="add-windows-support-to-a-native-module-library"></a><a href="#add-windows-support-to-a-native-module-library" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Add Windows support to a native module library</h2>
<p>Once you have a base React Native library (whether one you created or you found) the next step is to add and initialize React Native for Windows support.</p>
<h3><a class="anchor" aria-hidden="true" id="add-react-native-windows-as-a-dependency"></a><a href="#add-react-native-windows-as-a-dependency" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Add <code>react-native-windows</code> as a dependency</h3>
<blockquote>
<p>Properly defining your NPM dependencies is an essential part of creating and maintaining a React Native library, especially one that supports multiple platforms. The instructions here represent the minimum steps required to start targeting <code>react-native-windows</code>. If you're adding Windows support to a library you don't own, you'll need to work with the library owners to make sure any changes made to <code>package.json</code> are appropriate.</p>
<p>For more information on how NPM dependencies work, see <a href="https://docs.npmjs.com/specifying-dependencies-and-devdependencies-in-a-package-json-file">Specifying <code>dependencies</code> and <code>devDependencies</code> in a <code>package.json</code> file</a>.</p>
</blockquote>
<p>With React Native for Windows app projects you usually add a direct dependency on a version of <code>react-native-windows</code> with the same major/minor version of <code>react-native</code> that the app is using. However, most library projects are expected to work for apps targeting a range of React Native versions - as such for library projects you'll typically add both <em>dev</em> and <em>peer</em> dependencies on <code>react-native-windows</code> instead.</p>
<p>The dev dependency specifies the version of a package that you want to use to develop the library itself. You'll typically want to add the latest major/minor version of <code>react-native-windows</code> that matches the same major/minor version of <code>react-native</code> that the library has as a dev dependency.</p>
<p>So, for example, if you check the library's <code>package.json</code>, and see a <code>devDependency</code> specifying RN 0.76, you'll want to add a dev dependency for RNW 0.76. You can do this with <code>yarn</code>:</p>
<pre><code class="hljs css language-bat">yarn add react-native-windows@^<span class="hljs-number">0</span>.<span class="hljs-number">76</span>.<span class="hljs-number">0</span> --dev
</code></pre>
<p>The peer dependency specifies the versions of a package the library needs or supports. If you look at your library's <code>package.json</code>, the <code>react-native</code> peer dependency you'll most likely see is <code>*</code>, meaning any version, but sometimes you'll see a more specific version range. Whatever it is, a peer dependency essentially means &quot;I need this package (and version range), but don't download it on my behalf, I'll try to use whichever version someone else (typically the app) specifies&quot;. For RNW, you'll most likely want to add a similar peer dependency for <code>react-native-windows</code> to the existing <code>react-native</code> peer dependency.</p>
<p>So, for example, if you check the library's <code>package.json</code>, and see a <code>devDependency</code> specifying RN *, you'll want to add a dev dependency for RNW *. You can do this with <code>yarn</code>:</p>
<pre><code class="hljs css language-bat">yarn add react-native-windows@* --peer
</code></pre>
<p>That's it, you're ready to initialize the native Windows code for the project.</p>
<blockquote>
<p><strong>Note:</strong>: Many native module libraries often (claim to) support older versions of RN than RNW supports, so you may need to upgrade the library to newer versions first in order to properly support for <code>react-native-windows</code>. While it is possible to create, say, a more restrictive version range for the peer dependency (i.e. the library may claim support for <code>react-native@*</code> but you choose <code>react-native-windows@&gt;=0.76.0</code>) you'll want to stick to the same major/minor pairing for the dev dependency to avoid unexpected behavior.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="initialize-the-native-windows-code-for-a-library-project"></a><a href="#initialize-the-native-windows-code-for-a-library-project" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Initialize the native Windows code for a library project</h3>
<p>At this point you should be ready to add Windows support with the <a href="/react-native-windows/docs/init-windows-cli">init-windows command</a>. The process is similar to adding Windows support to an app project, but you'll need to specify a library template:</p>
<pre><code class="hljs css language-bat">npx @react-native-community/cli init-windows --template cpp-lib --overwrite
</code></pre>
<p>This adds the native code for a C++/WinRT library project.</p>
<p>So, the answer to <em>Where do I need to implement the native code so it's available at runtime?</em>:</p>
<p>You're going to implement the native code inside your native Windows library project. I.e. if your library is named <code>MyLib</code>, you'll be creating and modifying files in the <code>windows\MyLib\</code> folder of your project.</p>
<p>That's it, you can continue on to <a href="#next-steps">Next Steps</a>.</p>
<blockquote>
<p><strong>Note:</strong> There are two older library templates, <code>old/uwp-cpp-lib</code> for creating C++/WinRT UWP projects and <code>old/uwp-cs-lib</code> for C# UWP projects. Both are planned for eventual deprecation and neither are recommended for initializing new projects. They should only be used by developers with specific legacy requirements.</p>
</blockquote>
<h2><a class="anchor" aria-hidden="true" id="next-steps"></a><a href="#next-steps" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Next Steps</h2>
<p>You have now created the scaffolding to build a native module or view manager. Now it's time to add the business logic to the module - follow the steps described in the <a href="/react-native-windows/docs/native-modules">Native Modules</a> and <a href="/react-native-windows/docs/view-managers">View Managers</a> documents.</p>
<h2><a class="anchor" aria-hidden="true" id="other-tasks"></a><a href="#other-tasks" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Other Tasks</h2>
<p>Here are some other common tasks you wish to do when authoring a native module.</p>
<h3><a class="anchor" aria-hidden="true" id="building-an-example-app-for-testing"></a><a href="#building-an-example-app-for-testing" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Building an example app for testing</h3>
<p>If you're implementing your native module directly within your React Native for Windows app, then your app is right there ready to test it. Alternatively, if you're implementing your native module in a separate library, it may or may not already include a example app for testing the other React Native platforms.</p>
<p>If such an app already exists, you can simply add Windows support to it like any other RN app by following the steps in the <a href="/react-native-windows/docs/getting-started">Getting Started</a> guide.</p>
<blockquote>
<p><strong>Note:</strong> If you (or the library author) used <code>create-react-native-library</code> to create the library, then there's usually an example app already in the project's <code>example</code> folder. When you ran <code>init-windows --template cpp-lib</code> to initialize Windows support for the library, the RNW CLI will detect that <code>example</code> folder and automatically attempt to set up and initialize Windows support using <code>init-windows --template cpp-app</code> for you.</p>
</blockquote>
<h3><a class="anchor" aria-hidden="true" id="making-your-module-ready-for-consumption-in-an-app"></a><a href="#making-your-module-ready-for-consumption-in-an-app" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Making your module ready for consumption in an app</h3>
<p>If you've followed the steps above, your module should already be ready for consumption by other apps thanks to <a href="/react-native-windows/docs/native-modules-autolinking">Autolinking</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="testing-the-module-before-it-gets-published"></a><a href="#testing-the-module-before-it-gets-published" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Testing the module before it gets published</h3>
<h3><a class="anchor" aria-hidden="true" id="adding-tests-for-your-module"></a><a href="#adding-tests-for-your-module" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Adding tests for your module</h3>
<p>We are using WebdriverIO + WinAppDriver for UI testing. More details <a href="https://github.com/microsoft/react-native-windows/blob/main/docs/e2e-testing.md#appium">here</a>. For real world examples, check out <a href="https://github.com/react-native-community/react-native-webview"><code>react-native-webview</code></a> or <a href="https://github.com/react-native-community/progress-view">progress-view</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="setup-ci-continuous-integration-pipeline-for-your-module"></a><a href="#setup-ci-continuous-integration-pipeline-for-your-module" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setup CI (continuous integration) pipeline for your module</h3>
<p>When done developing your module, it's good practice to setup a CI pipeline with automated build and tests to avoid any future regressions. See the <a href="/react-native-windows/docs/setup-ci">Setup Continuous Integration Pipeline for an RNW App</a> for more information.</p>
<h3><a class="anchor" aria-hidden="true" id="documenting-your-module"></a><a href="#documenting-your-module" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Documenting Your Module</h3>
<p>Once your module is complete, update <a href="https://github.com/react-native-community/directory">react-native-community/directory</a> so that its information on your native module is up to date. If you are building a native module which will be maintained by Microsoft, please update the Supported Community Modules documentation in <a href="https://github.com/microsoft/react-native-windows-samples/blob/main/docs/supported-community-modules.md">react-native-windows-samples</a> with your native module's information.</p>
</span></div></article></div><div class="docLastUpdate"><em>Last updated on 10/30/2025</em></div><div class="docs-prevnext"><a class="docs-prev button" href="/react-native-windows/docs/view-managers"><span class="arrow-prev">← </span><span>Native UI Components</span></a><a class="docs-next button" href="/react-native-windows/docs/native-modules-vs-turbo-modules"><span>Native Modules vs Turbo Modules</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#development-environment">Development Environment</a></li><li><a href="#decide-where-to-host-your-native-module">Decide where to host your native module</a><ul class="toc-headings"><li><a href="#option-1-create-a-native-module-within-your-react-native-for-windows-app-project">Option 1: Create a native module within your React Native for Windows app project</a></li><li><a href="#option-2-add-windows-support-to-an-existing-native-module-library">Option 2: Add Windows support to an existing native module library</a></li><li><a href="#option-3-create-a-new-native-module-library">Option 3: Create a new native module library</a></li></ul></li><li><a href="#add-windows-support-to-a-native-module-library">Add Windows support to a native module library</a><ul class="toc-headings"><li><a href="#add-react-native-windows-as-a-dependency">Add <code>react-native-windows</code> as a dependency</a></li><li><a href="#initialize-the-native-windows-code-for-a-library-project">Initialize the native Windows code for a library project</a></li></ul></li><li><a href="#next-steps">Next Steps</a></li><li><a href="#other-tasks">Other Tasks</a><ul class="toc-headings"><li><a href="#building-an-example-app-for-testing">Building an example app for testing</a></li><li><a href="#making-your-module-ready-for-consumption-in-an-app">Making your module ready for consumption in an app</a></li><li><a href="#testing-the-module-before-it-gets-published">Testing the module before it gets published</a></li><li><a href="#adding-tests-for-your-module">Adding tests for your module</a></li><li><a href="#setup-ci-continuous-integration-pipeline-for-your-module">Setup CI (continuous integration) pipeline for your module</a></li><li><a href="#documenting-your-module">Documenting Your Module</a></li></ul></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><div><h5>React Native Docs</h5><a href="https://reactnative.dev/docs/getting-started">Getting Started</a><a href="https://reactnative.dev/docs/tutorial">Tutorial</a><a href="https://reactnative.dev/docs/components-and-apis">Components and APIs</a><a href="https://reactnative.dev/docs/more-resources">More Resources</a></div><div><h5>React Native for Windows Docs</h5><div style="color:white;font-weight:500;font-size:16px"><a href="/react-native-windows/docs/getting-started">Get Started with Windows</a></div><a href="/react-native-windows/docs/parity-status">React Native Windows Components and APIs</a><a href="/react-native-windows/docs/native-modules">Native Modules</a><a href="/react-native-windows/docs/view-managers">Native UI Components</a></div><div><h5>Connect With Us On</h5><a href="https://devblogs.microsoft.com/react-native/">Blog</a><a href="https://twitter.com/ReactNativeMSFT" target="_blank">Twitter</a><a href="https://github.com/microsoft/react-native-windows" target="_blank">GitHub</a><a href="https://github.com/microsoft/react-native-windows-samples/tree/main/samples" target="_blank">Samples</a></div></section></footer></div></body></html>