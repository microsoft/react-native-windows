{"version":3,"file":"IComponentPerfTest.js","sourceRoot":"","sources":["../../src/interfaces/IComponentPerfTest.ts"],"names":[],"mappings":";AAAA;;;;;GAKG","sourcesContent":["/**\r\n * Copyright (c) Microsoft Corporation.\r\n * Licensed under the MIT License.\r\n *\r\n * @format\r\n */\r\n\r\nimport type {PerfMetrics} from './PerfMetrics';\r\nimport type {PerfThreshold} from './PerfThreshold';\r\n\r\n/**\r\n * Category for organizing perf tests.\r\n *\r\n * - 'core': Built-in RN components (View, Text, TextInput, Image, ScrollView)\r\n * - 'extended': Higher-level RN components (FlatList, SectionList, RefreshControl)\r\n * - 'custom': Community or app-specific components\r\n */\r\nexport type PerfTestCategory = 'core' | 'extended' | 'custom';\r\n\r\n/**\r\n * Contract that all component performance tests must implement.\r\n *\r\n * This interface enables a consistent API for measuring component\r\n * performance across core RNW components, extended components, and\r\n * community-provided custom components.\r\n *\r\n * @example\r\n * ```typescript\r\n * import { IComponentPerfTest } from '@react-native-windows/perf-testing';\r\n *\r\n * class MyComponentPerfTest implements IComponentPerfTest {\r\n *   readonly componentName = 'MyComponent';\r\n *   readonly category = 'custom';\r\n *   readonly testId = 'perf-test-my-component';\r\n *   readonly defaultThreshold = { maxDurationIncrease: 15 };\r\n *\r\n *   async measureMount() { ... }\r\n *   async measureUnmount() { ... }\r\n *   async measureRerender() { ... }\r\n * }\r\n * ```\r\n */\r\nexport interface IComponentPerfTest {\r\n  /** Component name (e.g., 'View', 'Text', 'MyCustomComponent') */\r\n  readonly componentName: string;\r\n\r\n  /** Category for test organization and threshold selection */\r\n  readonly category: PerfTestCategory;\r\n\r\n  /** testID used to locate the component in the rendered tree */\r\n  readonly testId: string;\r\n\r\n  /** Default threshold for this component's perf tests */\r\n  readonly defaultThreshold: PerfThreshold;\r\n\r\n  // ─── Standard Scenarios (Required) ───\r\n\r\n  /** Measure the time to mount the component from scratch */\r\n  measureMount(): Promise<PerfMetrics>;\r\n\r\n  /** Measure the time to unmount the component */\r\n  measureUnmount(): Promise<PerfMetrics>;\r\n\r\n  /** Measure the time to re-render the component with updated props */\r\n  measureRerender(): Promise<PerfMetrics>;\r\n\r\n  // ─── Extension Point ───\r\n\r\n  /**\r\n   * Return additional component-specific scenarios.\r\n   *\r\n   * Override this to add scenarios like \"nested-views-100\",\r\n   * \"long-text-1000\", \"scroll-to-end\", etc.\r\n   */\r\n  getCustomScenarios?(): IScenario[];\r\n}\r\n\r\n/**\r\n * A single named test scenario that produces performance metrics.\r\n *\r\n * Scenarios are the building blocks of perf tests.\r\n * Use them for custom measurements beyond the standard mount/unmount/rerender.\r\n *\r\n * @example\r\n * ```typescript\r\n * const nestedViewsScenario: IScenario = {\r\n *   name: 'nested-views-100',\r\n *   description: 'Render 100 nested View components',\r\n *   run: async () => measurePerf(<NestedViews count={100} />, {\r\n *     name: 'View nested-100',\r\n *     runs: 5,\r\n *   }),\r\n * };\r\n * ```\r\n */\r\nexport interface IScenario {\r\n  /** Unique scenario name (used as snapshot key) */\r\n  name: string;\r\n\r\n  /** Human-readable description */\r\n  description: string;\r\n\r\n  /** Execute the scenario and return metrics */\r\n  run(): Promise<PerfMetrics>;\r\n}\r\n"]}