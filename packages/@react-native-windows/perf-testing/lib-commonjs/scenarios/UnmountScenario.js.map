{"version":3,"file":"UnmountScenario.js","sourceRoot":"","sources":["../../src/scenarios/UnmountScenario.ts"],"names":[],"mappings":";AAAA;;;;;GAKG;;;AAKH,qDAAgD;AAEhD;;;;;;;;;;;GAWG;AACH,MAAa,eAAe;IAI1B,YACE,IAAY,EACK,SAA6B,EAC7B,UAAgD,EAAE;QADlD,cAAS,GAAT,SAAS,CAAoB;QAC7B,YAAO,GAAP,OAAO,CAA2C;QAEnE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,WAAW,GAAG,wBAAwB,IAAI,EAAE,CAAC;IACpD,CAAC;IAED,KAAK,CAAC,GAAG;;QACP,OAAO,IAAA,yBAAW,EAAC,IAAI,CAAC,SAAS,EAAE;YACjC,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,IAAI,EAAE,MAAA,IAAI,CAAC,OAAO,CAAC,IAAI,mCAAI,EAAE;YAC7B,UAAU,EAAE,MAAA,IAAI,CAAC,OAAO,CAAC,UAAU,mCAAI,CAAC;YACxC,cAAc,EAAE,IAAI;SACrB,CAAC,CAAC;IACL,CAAC;CACF;AArBD,0CAqBC","sourcesContent":["/**\r\n * Copyright (c) Microsoft Corporation.\r\n * Licensed under the MIT License.\r\n *\r\n * @format\r\n */\r\n\r\nimport * as React from 'react';\r\nimport type {IScenario} from '../interfaces/IComponentPerfTest';\r\nimport type {PerfMetrics} from '../interfaces/PerfMetrics';\r\nimport {measurePerf} from '../core/measurePerf';\r\n\r\n/**\r\n * A reusable scenario that measures component unmount time.\r\n *\r\n * @example\r\n * ```typescript\r\n * const unmountScenario = new UnmountScenario(\r\n *   'View unmount',\r\n *   <View testID=\"perf-view\" style={{ flex: 1 }} />,\r\n * );\r\n * const metrics = await unmountScenario.run();\r\n * ```\r\n */\r\nexport class UnmountScenario implements IScenario {\r\n  readonly name: string;\r\n  readonly description: string;\r\n\r\n  constructor(\r\n    name: string,\r\n    private readonly component: React.ReactElement,\r\n    private readonly options: {runs?: number; warmupRuns?: number} = {},\r\n  ) {\r\n    this.name = name;\r\n    this.description = `Unmount scenario for ${name}`;\r\n  }\r\n\r\n  async run(): Promise<PerfMetrics> {\r\n    return measurePerf(this.component, {\r\n      name: this.name,\r\n      runs: this.options.runs ?? 10,\r\n      warmupRuns: this.options.warmupRuns ?? 1,\r\n      measureUnmount: true,\r\n    });\r\n  }\r\n}\r\n"]}